Fix and optimize the content rating system to ensure seamless operation with both user and AI ratings stored in the database - specifically: 1) Update the ratingSystem.ts service in server/services/ to properly handle both user ratings (1-100 scale) and AI evaluations (1-10 scale converted to 1-100), ensuring all ratings are consistently stored in the contentRatings and contentEvaluations tables, 2) Fix the getSmartStyleRecommendations function to use the correct threshold filters (AI ratings 6.9+ converted to 69+ on 100-scale, user ratings 69+) and optimize the database queries to avoid scanning low-rated content, 3) Update the generateContentUnified.ts API to properly integrate smart style recommendations when useSmartStyle is enabled, ensuring the recommendations are applied to the prompt generation process, 4) Enhance the ContentRating.tsx component to display both user and AI ratings side-by-side, showing the source of each rating and allowing users to see which content has been AI-evaluated vs user-rated, 5) Add database indexes on the rating columns (overallRating, overallScore) and add proper error handling for rating retrieval failures, 6) Fix the getTopRatedContentForStyle function to properly combine user and AI ratings with the correct thresholds (user 90+, AI 9.0+ converted to 90+) and return comprehensive style patterns, 7) Update the smart style toggle to show statistics about available high-rated content (how many user-rated vs AI-evaluated samples are available), 8) Add automatic AI evaluation for newly generated content when no user rating exists after 24 hours, and 9) Ensure the unified content generator properly applies the learned style patterns from high-rated content to improve future generations, including tone, structure, and platform-specific optimizations.

This prompt will ensure:

Both user and AI ratings are properly stored and retrieved
Smart style recommendations work with the correct thresholds (69+ for users, 6.9+ for AI converted to 69+)
Database performance is optimized by filtering low-rated content early
The rating system integrates seamlessly with content generation
Users can see the source and quality of their rating data
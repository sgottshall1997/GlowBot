REPLIT AGENT PROMPT: Add TikTok Viral Content Research Automation to GlowBot

Working with the existing GlowBot application, implement a comprehensive TikTok viral content research automation system that bridges product discovery and content creation. Focus on these specific requirements:

1. Create TikTok Viral Research Service

Create /server/services/tiktokViralResearch.ts that searches for viral TikTok videos/ads for specific products
Implement functions to analyze hooks, formats, styles, and engagement patterns from viral content
Use Perplexity API (already configured) to search for "viral TikTok videos about [product]" with engagement metrics
Extract and structure: video hooks, content format, style elements, hashtags, and engagement data
Store findings in a reusable format for content generation templates
2. Enhance Viral Inspiration Pipeline

Update /client/src/lib/fetchViralVideoInspo.ts to call the new TikTok research service
Modify the viral inspiration component in /client/src/pages/GenerateContent.tsx to display:
Specific viral video examples found
Hook templates from successful videos
Format breakdowns (demo, unboxing, review, etc.)
Engagement metrics and success indicators
Add "Use This Template" buttons for each viral example found
3. Template Integration System

Update /server/services/promptFactory.ts to accept viral template data as input
Create template variations based on successful viral video formats
Modify content generation to use viral video structures as blueprints instead of generic templates
Ensure generated content mirrors proven viral patterns while maintaining originality
4. Enhanced Analytics Integration

Update /client/src/pages/GenerateContent.tsx to show viral research progress
Display confidence scores for viral template matches
Show estimated viral potential based on similar successful content
Add metrics tracking for content generated from viral templates vs. generic templates
5. Add Comprehensive Generator Documentation

In /client/src/components/UnifiedContentGenerator.tsx, add a detailed "How This Works" section at the bottom
Document the complete process: product input → viral research → template selection → content generation → platform optimization
Explain the viral inspiration system, database ratings integration, AI model selection, and quality scoring
Include flowchart-style explanation with each step clearly defined
Add troubleshooting section for common issues
6. API Integration Requirements

Create /server/api/viral-research.ts endpoint for TikTok viral analysis
Ensure all viral research calls are cached to avoid rate limits
Add error handling for when viral content isn't found
Implement fallback to generic templates when viral research fails
7. UI/UX Enhancements

Add viral research status indicators in the generation interface
Create expandable cards showing viral video breakdowns
Add comparison view between viral templates and generated content
Include viral confidence scoring in the content output
Requirements:

Maintain all existing functionality in GlowBot
Use existing Perplexity API configuration (no new API keys needed)
Ensure the viral research system works offline with cached data
Add comprehensive error handling and fallback mechanisms
Make the documentation section visually appealing and easy to understand
Test that viral templates actually improve content generation quality
Success Criteria:

Users can see specific viral TikTok examples for their product
Content generation uses viral video structures as templates
Clear documentation explains every step of the process
System gracefully handles cases where no viral content is found
Generated content shows measurable improvement when using viral templates
Focus on creating a seamless bridge between "what's already working" viral content and AI-generated content that copies proven winners rather than generating blind.